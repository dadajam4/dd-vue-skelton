//
// Accordion
//

.#{$css-prefix}accordion {
  position: relative;
  display: block;
  list-style-type: none;

  &__title {
    .#{$css-prefix}tile__title {
      @include font-weight-bolder;
    }
  }

  &--active > &__title &__title__angle {
    transform: rotate(-180deg);
  }

  &__body {
    transition: height .4s cubic-bezier(.4, 0, .2, 1);
  }

  &--flat {
    &:before,
    &:after {
      content: "";
      display: block;
      // position: absolute;
      // left: 0;
      // right: 0;
      width: 100%;
      height: 1px;
      background: currentColor;
      opacity: 0;
      transition: get-transition(primary);
    }

    // &:before {
    //   top: 0;
    // }

    // &:after {
    //   after: 0;
    // }
  }

  &--flat > &__body > &__body__inner > &-group {
    margin: 0;
  }

  &--styled > &__body {
    @include theme-color(background, background);
  }

  &--styled > &__body > &__body__inner {
    margin: get-space(md);
  }
}

// grouping
.#{$css-prefix}accordion-group {
  list-style-type: none;
  padding: 0;
  margin: get-space(sm) 0;
  overflow: hidden;

  &--styled {
    @include elevation(2);
    border-radius: get-card(border-radius);
  }

  & > .#{$css-prefix}accordion {
    & + .#{$css-prefix}accordion.#{$css-prefix}accordion--styled {
      margin-top: 1px;
    }

    &--flat.#{$css-prefix}accordion--active {
      &:before,
      &:after {
        opacity: 0.14;
      }
    }
    // &--active + .#{$css-prefix}accordion:before {
    //   content: "";
    //   display: block;
    //   position: absolute;
    //   left: 0;
    //   right: 0;
    //   top: 0;
    //   height: 1px;
    //   background: currentColor;
    //   opacity: 0.14;
    // }
    // &.#{$css-prefix}accordion--flat.#{$css-prefix}accordion--active > .#{$css-prefix}accordion__body:after {
    //   content: "";
    //   display: block;
    //   position: absolute;
    //   left: 0;
    //   right: 0;
    //   bottom: 0;
    //   height: 1px;
    //   background: currentColor;
    //   opacity: 0.14;
    // }
  }
}
